{"mappings":"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","sources":["<anon>","fireworks/sketch.ts","fireworks/params.ts","fireworks/simulation.ts","fireworks/particle.ts"],"sourcesContent":["\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire5b7a\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire5b7a\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $7Pz0b = parcelRequire(\"7Pz0b\");\nclass $606498dca8ae7189$var$Params {\n    constructor(){\n        this.isPaused = false;\n        this.particleSize = 1;\n        this.lineMaxDist = 150;\n        this.WallThickness = 0;\n        this.WallBuffer = 150;\n        this.InitialPopulation = 5;\n        this.MaxSpeed = 8;\n        this.MinSpeed = 6;\n        this.MaxForce = 0.2;\n        this.g = 0.08;\n    }\n}\nconst $606498dca8ae7189$var$params = new $606498dca8ae7189$var$Params();\nvar $606498dca8ae7189$export$2e2bcd8739ae039 = $606498dca8ae7189$var$params;\n\n\n\n\nclass $1313ff225625432c$export$2e2bcd8739ae039 {\n    constructor(p5){\n        this.isVisible = true;\n        this.frameCount = 0;\n        this.p5 = p5;\n        this.position = this.p5.createVector(Math.random() * p5.windowWidth, Math.random() * p5.windowHeight);\n        this.heading = Math.random() * 2 * this.p5.PI;\n        this.velocity = this.p5.createVector(this.p5.cos(this.heading), this.p5.sin(this.heading)).normalize().mult(this.p5.map(Math.random(), 0, 1, (0, $606498dca8ae7189$export$2e2bcd8739ae039).MinSpeed, (0, $606498dca8ae7189$export$2e2bcd8739ae039).MaxSpeed));\n        this.color = this.p5.color(parseInt((Math.random() * 5).toFixed()) * 255 / 5, parseInt((Math.random() * 5).toFixed()) * 255 / 5, parseInt((Math.random() * 5).toFixed()) * 255 / 5);\n        this.size = (0, $606498dca8ae7189$export$2e2bcd8739ae039).particleSize;\n        this.mass = (0, $606498dca8ae7189$export$2e2bcd8739ae039).particleSize;\n    }\n    draw() {\n        if (this.isVisible) {\n            this.p5.push();\n            this.p5.translate(this.position.x, this.position.y);\n            this.p5.stroke(this.color);\n            this.p5.ellipse(0, 0, this.size);\n            this.p5.fill(this.color);\n            this.p5.pop();\n            if (!(0, $606498dca8ae7189$export$2e2bcd8739ae039).isPaused) this.frameCount++;\n            if (this.frameCount > 300) this.isVisible = false;\n        }\n    }\n    step(force) {\n        var acceleration = this.p5.createVector(force.x, force.y);\n        acceleration = acceleration.mult(1 / this.mass);\n        this.velocity.add(acceleration);\n        this.position.add(this.velocity);\n        this.warpWorld();\n    }\n    warpWorld() {\n        if (this.position.x < (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer || this.position.x > this.p5.windowWidth - (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer || this.position.y < (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer || this.position.y > this.p5.windowHeight - (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer) this.isVisible = false;\n    }\n    explode() {\n        let result = [];\n        for(let i = 0; i < 300; i++){\n            let particle = new $1313ff225625432c$export$2e2bcd8739ae039(this.p5);\n            particle.position = this.position.copy();\n            particle.size = this.p5.map(Math.random(), 0, 1, 1, 1.5);\n            particle.mass = this.p5.map(Math.random(), 0, 1, 1, 2);\n            particle.color = this.color;\n            particle.frameCount = this.p5.map(Math.random(), 0, 1, 250, 280);\n            particle.velocity.normalize().mult(this.p5.map(Math.random(), 0, 1, 0.1, 2)).add(this.p5.createVector(0, -2));\n            result.push(particle);\n        }\n        return result;\n    }\n}\n\n\nclass $77be04b10aaaeff5$export$2e2bcd8739ae039 {\n    constructor(p5){\n        this.particles = [];\n        this.explosionParticles = [];\n        this.p5 = p5;\n        this.groundHeight = this.p5.windowHeight - (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer;\n        this.g = this.p5.createVector(0, (0, $606498dca8ae7189$export$2e2bcd8739ae039).g);\n    }\n    run() {\n        this.drawGround();\n        let skip = Math.random() > 0.9;\n        if (!(0, $606498dca8ae7189$export$2e2bcd8739ae039).isPaused && Math.random() > 0.98) this.addNewParticle();\n        this.particles.forEach((particle)=>{\n            if (particle.isVisible) {\n                if (!(0, $606498dca8ae7189$export$2e2bcd8739ae039).isPaused && !skip) {\n                    var force = this.p5.createVector(this.g.x, this.g.y);\n                    force = force.mult(particle.mass);\n                    particle.step(force);\n                    if (particle.velocity.mag() < 0.1) {\n                        this.explosionParticles.push(...particle.explode());\n                        particle.isVisible = false;\n                    }\n                }\n                particle.draw();\n            }\n        });\n        this.particles = this.particles.filter((particle)=>particle.isVisible);\n        this.explosionParticles.forEach((particle)=>{\n            if (particle.isVisible) {\n                if (!(0, $606498dca8ae7189$export$2e2bcd8739ae039).isPaused && !skip) {\n                    let force = this.p5.createVector(this.g.x, this.g.y);\n                    force = force.mult(particle.mass);\n                    particle.step(force);\n                    if (particle.position.y > this.groundHeight) particle.isVisible = false;\n                }\n                particle.draw();\n            }\n        });\n        this.explosionParticles = this.explosionParticles.filter((particle)=>particle.isVisible);\n    }\n    drawGround() {\n        this.p5.stroke(255, 255, 255);\n        this.p5.line(0, this.groundHeight, this.p5.windowWidth, this.groundHeight);\n    }\n    addNewParticle() {\n        let particle = new (0, $1313ff225625432c$export$2e2bcd8739ae039)(this.p5);\n        particle.velocity = this.p5.createVector(0, -1 * this.p5.map(Math.random(), 0, 1, (0, $606498dca8ae7189$export$2e2bcd8739ae039).MinSpeed, (0, $606498dca8ae7189$export$2e2bcd8739ae039).MaxSpeed));\n        particle.position = this.p5.createVector(this.p5.map(Math.random(), 0, 1, 2 * (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer, this.p5.windowWidth - 2 * (0, $606498dca8ae7189$export$2e2bcd8739ae039).WallBuffer), this.groundHeight);\n        this.particles.push(particle);\n    }\n}\n\n\nconst $885d3c7549b39876$var$sketch = (p5)=>{\n    var is_canvas_infocus = false;\n    var simulation = new (0, $77be04b10aaaeff5$export$2e2bcd8739ae039)(p5);\n    p5.setup = ()=>{\n        var cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.mouseOver(()=>{\n            is_canvas_infocus = true;\n        });\n        cnv.mouseOut(()=>{\n            is_canvas_infocus = false;\n        });\n        // cnv.style('display', 'block');\n        // cnv.parent('sketch-holder');\n        for(let i = 0; i < (0, $606498dca8ae7189$export$2e2bcd8739ae039).InitialPopulation; i++)simulation.addNewParticle();\n    };\n    p5.windowResized = ()=>{\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    };\n    p5.draw = ()=>{\n        p5.background(20, 20, 0);\n        simulation.run();\n    };\n    p5.keyPressed = ()=>{\n        p5.key = \" \";\n        (0, $606498dca8ae7189$export$2e2bcd8739ae039).isPaused = !(0, $606498dca8ae7189$export$2e2bcd8739ae039).isPaused;\n    };\n};\nnew (0, (/*@__PURE__*/$parcel$interopDefault($7Pz0b)))($885d3c7549b39876$var$sketch);\n\n\n//# sourceMappingURL=index.81bfefe3.js.map\n","import P5 from 'p5';\nimport params from './params';\nimport Simulation from './simulation';\n\nconst sketch = (p5: P5) => {\n    var is_canvas_infocus = false;\n    var simulation = new Simulation(p5);\n\n    p5.setup = () => {\n        var cnv = p5.createCanvas(p5.windowWidth, p5.windowHeight);\n        cnv.mouseOver(() => {\n            is_canvas_infocus = true;\n        });\n        cnv.mouseOut(() => {\n            is_canvas_infocus = false;\n        });\n        // cnv.style('display', 'block');\n        // cnv.parent('sketch-holder');\n        for (let i = 0; i < params.InitialPopulation; i++) {\n            simulation.addNewParticle();\n        }\n    };\n\n    p5.windowResized = () => {\n        p5.resizeCanvas(p5.windowWidth, p5.windowHeight);\n    };\n\n    p5.draw = () => {\n        p5.background(20, 20, 0);\n        simulation.run();\n    };\n    p5.keyPressed = () => {\n        if ((p5.key = ' ')) {\n            params.isPaused = !params.isPaused;\n        }\n    };\n};\n\nnew P5(sketch);\n","class Params {\n    isPaused = false;\n    particleSize = 1;\n    lineMaxDist = 150;\n    WallThickness = 0;\n    WallBuffer = 150;\n    InitialPopulation = 5;\n    MaxSpeed = 8;\n    MinSpeed = 6;\n    MaxForce = 0.2;\n    g = 0.08;\n}\nconst params = new Params();\nexport default params;\n","import P5 from 'p5';\nimport params from './params';\nimport Particle from './particle';\nexport default class Simulation {\n    particles: Array<Particle> = [];\n    explosionParticles: Array<Particle> = [];\n    p5: P5;\n    groundHeight: number;\n    g: P5.Vector;\n    constructor(p5: P5) {\n        this.p5 = p5;\n        this.groundHeight = this.p5.windowHeight - params.WallBuffer;\n        this.g = this.p5.createVector(0, params.g);\n    }\n\n    run() {\n        this.drawGround();\n        let skip = Math.random() > 0.9;\n        if (!params.isPaused && Math.random() > 0.98) this.addNewParticle();\n        this.particles.forEach((particle: Particle) => {\n            if (particle.isVisible) {\n                if (!params.isPaused && !skip) {\n                    var force = this.p5.createVector(this.g.x, this.g.y);\n                    force = force.mult(particle.mass);\n                    particle.step(force);\n                    if (particle.velocity.mag() < 0.1) {\n                        this.explosionParticles.push(...particle.explode());\n                        particle.isVisible = false;\n                    }\n                }\n                particle.draw();\n            }\n        });\n        this.particles = this.particles.filter(\n            (particle) => particle.isVisible\n        );\n        this.explosionParticles.forEach((particle: Particle) => {\n            if (particle.isVisible) {\n                if (!params.isPaused && !skip) {\n                    let force = this.p5.createVector(this.g.x, this.g.y);\n                    force = force.mult(particle.mass);\n                    particle.step(force);\n                    if (particle.position.y > this.groundHeight) {\n                        particle.isVisible = false;\n                    }\n                }\n                particle.draw();\n            }\n        });\n        this.explosionParticles = this.explosionParticles.filter(\n            (particle) => particle.isVisible\n        );\n    }\n\n    drawGround() {\n        this.p5.stroke(255, 255, 255);\n        this.p5.line(\n            0,\n            this.groundHeight,\n            this.p5.windowWidth,\n            this.groundHeight\n        );\n    }\n\n    addNewParticle() {\n        let particle = new Particle(this.p5);\n        particle.velocity = this.p5.createVector(\n            0,\n            -1 *\n                this.p5.map(\n                    Math.random(),\n                    0,\n                    1,\n                    params.MinSpeed,\n                    params.MaxSpeed\n                )\n        );\n        particle.position = this.p5.createVector(\n            this.p5.map(\n                Math.random(),\n                0,\n                1,\n                2 * params.WallBuffer,\n                this.p5.windowWidth - 2 * params.WallBuffer\n            ),\n            this.groundHeight\n        );\n        this.particles.push(particle);\n    }\n}\n","import P5 from 'p5';\nimport params from './params';\nexport default class Particle {\n    mass: number;\n    color: P5.Color;\n    position: P5.Vector;\n    velocity: P5.Vector;\n    size: number;\n    heading: number;\n    p5: P5;\n    isVisible = true;\n    frameCount = 0;\n    constructor(p5: P5) {\n        this.p5 = p5;\n        this.position = this.p5.createVector(\n            Math.random() * p5.windowWidth,\n            Math.random() * p5.windowHeight\n        );\n        this.heading = Math.random() * 2 * this.p5.PI;\n        this.velocity = this.p5\n            .createVector(this.p5.cos(this.heading), this.p5.sin(this.heading))\n            .normalize()\n            .mult(\n                this.p5.map(\n                    Math.random(),\n                    0,\n                    1,\n                    params.MinSpeed,\n                    params.MaxSpeed\n                )\n            );\n        this.color = this.p5.color(\n            (parseInt((Math.random() * 5).toFixed()) * 255) / 5,\n            (parseInt((Math.random() * 5).toFixed()) * 255) / 5,\n            (parseInt((Math.random() * 5).toFixed()) * 255) / 5\n        );\n        this.size = params.particleSize;\n        this.mass = params.particleSize;\n    }\n\n    draw() {\n        if (this.isVisible) {\n            this.p5.push();\n            this.p5.translate(this.position.x, this.position.y);\n            this.p5.stroke(this.color);\n            this.p5.ellipse(0, 0, this.size);\n            this.p5.fill(this.color);\n            this.p5.pop();\n            if (!params.isPaused) {\n                this.frameCount++;\n            }\n            if (this.frameCount > 300) {\n                this.isVisible = false;\n            }\n        }\n    }\n\n    step(force: P5.Vector) {\n        var acceleration = this.p5.createVector(force.x, force.y);\n        acceleration = acceleration.mult(1 / this.mass);\n        this.velocity.add(acceleration);\n        this.position.add(this.velocity);\n        this.warpWorld();\n    }\n\n    warpWorld() {\n        if (\n            this.position.x < params.WallBuffer ||\n            this.position.x > this.p5.windowWidth - params.WallBuffer ||\n            this.position.y < params.WallBuffer ||\n            this.position.y > this.p5.windowHeight - params.WallBuffer\n        ) {\n            this.isVisible = false;\n        }\n    }\n\n    explode(): Particle[] {\n        let result = [];\n        for (let i = 0; i < 300; i++) {\n            let particle = new Particle(this.p5);\n            particle.position = this.position.copy();\n            particle.size = this.p5.map(Math.random(), 0, 1, 1, 1.5);\n            particle.mass = this.p5.map(Math.random(), 0, 1, 1, 2);\n            particle.color = this.color;\n            particle.frameCount = this.p5.map(Math.random(), 0, 1, 250, 280);\n            particle.velocity\n                .normalize()\n                .mult(this.p5.map(Math.random(), 0, 1, 0.1, 2))\n                .add(this.p5.createVector(0, -2));\n            result.push(particle);\n        }\n        return result;\n    }\n}\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$7Pz0b","$606498dca8ae7189$var$params","constructor","isPaused","particleSize","lineMaxDist","WallThickness","WallBuffer","InitialPopulation","MaxSpeed","MinSpeed","MaxForce","g","$1313ff225625432c$export$2e2bcd8739ae039","p5","isVisible","frameCount","position","createVector","Math","random","windowWidth","windowHeight","heading","PI","velocity","cos","sin","normalize","mult","map","color","parseInt","toFixed","size","mass","draw","push","translate","x","y","stroke","ellipse","fill","pop","step","force","acceleration","add","warpWorld","explode","result","i","particle","copy","$77be04b10aaaeff5$export$2e2bcd8739ae039","particles","explosionParticles","groundHeight","run","drawGround","skip","addNewParticle","forEach","mag","filter","line","a","__esModule","default","simulation","setup","cnv","createCanvas","mouseOver","mouseOut","windowResized","resizeCanvas","background","keyPressed","key"],"version":3,"file":"index.81bfefe3.js.map"}