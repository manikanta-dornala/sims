var i,t=globalThis,s={},h={},e=t.parcelRequire5b7a;null==e&&((e=function(i){if(i in s)return s[i].exports;if(i in h){var t=h[i];delete h[i];var e={id:i,exports:{}};return s[i]=e,t.call(e.exports,e,e.exports),e.exports}var n=Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(i,t){h[i]=t},t.parcelRequire5b7a=e),e.register;class n{constructor(i,t,s){this.r=1,this.sensorAngle=60,this.sensorDist=20,this.x=i,this.y=t,this.p5=s,this.vx=this.p5.cos(this.heading),this.vy=this.p5.sin(this.heading),this.heading=360*this.p5.random(),this.rotAngle=30}display(){this.p5.noStroke(),this.p5.fill(255),this.p5.ellipse(this.x,this.y,this.r,this.r)}update(){this.updatePos(),this.updateHeading()}updatePos(){let i=this.p5.random(-.1,.1),t=this.heading*(1+i);this.vx=this.p5.cos(t),this.vy=this.p5.sin(t),this.x=(this.x+this.vx+this.p5.width)%this.p5.width,this.y=(this.y+this.vy+this.p5.height)%this.p5.height}updateHeading(){let i=this.getValue(this.sensorAngle),t=this.getValue(-this.sensorAngle),s=this.getValue(0),h=this.p5.random(this.rotAngle-5,this.rotAngle+5);s>t&&s>i?this.heading+=0:s<t&&s<i?.5>this.p5.random(1)?this.heading+=h:this.heading-=h:t>i?this.heading+=-h:i>t&&(this.heading+=h)}getValue(i){let t=(this.x+this.sensorDist*this.p5.cos(this.heading+i))%this.p5.width,s=(this.y+this.p5.height+this.sensorDist*this.p5.sin(this.heading+i))%this.p5.height,h=this.p5.pixelDensity(),e=h*this.p5.floor(s)*4*(h*this.p5.width)+h*this.p5.floor(t)*4;return this.p5.pixels[e]}}new((i=e("7Pz0b"))&&i.__esModule?i.default:i)(i=>{let t=[];i.setup=()=>{var s=i.createCanvas(i.windowWidth,i.windowHeight-60);i.angleMode(i.DEGREES);for(let s=0;s<5e3;s++)t[s]=new n(i.random(.1*i.width,.9*i.width),i.random(.1*i.height,.9*i.height),i);s.style("display","block"),s.parent("sketch-holder")},i.windowResized=()=>{i.resizeCanvas(i.windowWidth,i.windowHeight-60)},i.draw=()=>{i.background(0,5),i.loadPixels();for(let i=0;i<5;i++)for(let i=0;i<5e3;i++)t[i].update(),t[i].display()}});
//# sourceMappingURL=index.8f204fa6.js.map
