var t,i=globalThis,s={},h={},e=i.parcelRequire5b7a;null==e&&((e=function(t){if(t in s)return s[t].exports;if(t in h){var i=h[t];delete h[t];var e={id:t,exports:{}};return s[t]=e,i.call(e.exports,e,e.exports),e.exports}var n=Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(t,i){h[t]=i},i.parcelRequire5b7a=e),e.register;class n{constructor(t,i,s){this.x=Math.random(),this.y=Math.random(),this.r=1,this.heading=360*Math.random(),this.vx=Math.random(),this.vy=Math.random(),this.sensorAngle=90,this.sensorDist=10,this.x=t,this.y=i,this.p5=s,this.vx=this.p5.cos(this.heading),this.vy=this.p5.sin(this.heading),this.rotAngle=45}display(){this.p5.noStroke(),this.p5.fill(255),this.p5.ellipse(this.x,this.y,this.r,this.r)}update(){this.updatePos(),this.updateHeading()}updatePos(){let t=this.heading*(1+this.p5.random(-.1,.1));this.vx=this.p5.cos(t),this.vy=this.p5.sin(t),this.x=(this.x+this.vx+this.p5.width)%this.p5.width,this.y=(this.y+this.vy+this.p5.height)%this.p5.height}updateHeading(){let t=this.getValue(this.sensorAngle),i=this.getValue(-this.sensorAngle),s=this.getValue(0),h=this.p5.random(this.rotAngle-5,this.rotAngle+5);s>i&&s>t?this.heading+=0:s<i&&s<t?.5>this.p5.random(1)?this.heading+=h:this.heading-=h:i>t?this.heading+=-h:t>i&&(this.heading+=h)}getValue(t){let i=(this.x+this.sensorDist*this.p5.cos(this.heading+t))%this.p5.width,s=(this.y+this.p5.height+this.sensorDist*this.p5.sin(this.heading+t))%this.p5.height,h=this.p5.pixelDensity(),e=h*this.p5.floor(s)*4*(h*this.p5.width)+h*this.p5.floor(i)*4;return this.p5.pixels[e]}}new((t=e("7Pz0b"))&&t.__esModule?t.default:t)(t=>{let i=[];t.setup=()=>{var s=t.createCanvas(t.windowWidth,t.windowHeight-60);t.angleMode(t.DEGREES);for(let s=0;s<1e4;s++)i[s]=new n(t.random(.1*t.width,.9*t.width),t.random(.1*t.height,.9*t.height),t);s.style("display","block"),s.parent("sketch-holder")},t.windowResized=()=>{t.resizeCanvas(t.windowWidth,t.windowHeight-60)},t.draw=()=>{t.background(0,5),t.loadPixels();for(let t=0;t<1e4;t++)i[t].update(),i[t].display()}});
//# sourceMappingURL=index.f5c0ed1f.js.map
