{"mappings":"0iBAGAA,E,oBAHAC,KACIC,cAAgB,E,YC4BXC,EAASC,GACdC,QAAQC,IAAIC,OAAOC,OAAON,eAC1BE,EAAGK,aAAa,GAChBL,EAAGM,aAEH,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAGQ,MAAOD,IAC1B,IAAK,IAAIE,EAAI,EAAGA,EAAIT,EAAGU,OAAQD,IAAK,CAChC,IAAIE,EAAIX,EAAGY,IAAIL,EAAG,EAAGP,EAAGU,QAAQ,EAAI,IAChCG,EAAIb,EAAGY,IAAIH,EAAG,EAAGT,EAAGU,QAAQ,KAAO,MACvC,MAAMI,EAAKH,EACLI,EAAKF,EACX,IAAIG,EAAI,E,KAEDA,EAAIb,OAAOC,OAAON,eAAe,CACpC,IACImB,EAAK,EAAIN,EAAIE,EAIjB,GAHAF,EAFSA,EAAIA,EAAIE,EAAIA,EAEZC,EACTD,EAAII,EAAKF,EAELf,EAAGkB,IAAIP,EAAIE,GAAK,IAChB,MAEJG,GACJ,CACA,IAAIG,EAASnB,EAAGY,IAAII,EAAG,EAAGb,OAAOC,OAAON,cAAe,IAAK,KACxDkB,GAAKb,OAAOC,OAAON,gBACnBqB,EAAS,KAGb,IAAIC,EAA2B,GAApBb,EAAIE,EAAIT,EAAGQ,OACtBR,EAAGqB,OAAOD,EAAM,GAAK,EACrBpB,EAAGqB,OAAOD,EAAM,GAAK,EACrBpB,EAAGqB,OAAOD,EAAM,GAAK,EACrBpB,EAAGqB,OAAOD,EAAM,GAAKD,CACzB,CAEJnB,EAAGsB,cACP,CAhEAnB,OAAOC,OAAS,IAAIR,EAyBpB,IAAI2B,EAAAC,GAAJ,E,SAxBgBxB,GAGZA,EAAGyB,MAAK,KASJzB,EAAG0B,aAA+B,IAAlB1B,EAAG2B,aAAuC,IAAlB3B,EAAG2B,cAC3C5B,EAASC,EAAE,EAGfA,EAAG4B,cAAa,KACZ5B,EAAG6B,aAA8B,IAAjB7B,EAAG8B,YAAsC,IAAlB9B,EAAG2B,aAAmB,EAEjE3B,EAAG+B,KAAI,KACHhC,EAASC,EAAE,CAEnB","sources":["madelbrot-set/params.ts","madelbrot-set/sketch.ts"],"sourcesContent":["class Params {\n    MaxIterations = 50;\n}\nexport default Params;\n","import P5 from 'p5';\nimport Params from './params';\nwindow.params = new Params();\nfunction sketch(p5: P5) {\n    var is_canvas_infocus = false;\n\n    p5.setup = () => {\n        // cnv.mouseOver(() => {\n        //     is_canvas_infocus = true;\n        // });\n        // cnv.mouseOut(() => {\n        //     is_canvas_infocus = false;\n        // });\n        // cnv.style('display', 'block');\n        // cnv.parent('sketch-holder');\n        p5.createCanvas(p5.windowHeight * 0.75, p5.windowHeight * 0.75);\n        draw_set(p5);\n    };\n\n    p5.windowResized = () => {\n        p5.resizeCanvas(p5.windowWidth * 0.95, p5.windowHeight * 0.95);\n    };\n    p5.draw = () => {\n        draw_set(p5);\n    };\n}\n\nnew P5(sketch);\n\nfunction draw_set(p5: P5) {\n    console.log(window.params.MaxIterations);\n    p5.pixelDensity(1);\n    p5.loadPixels();\n\n    for (let x = 0; x < p5.width; x++) {\n        for (let y = 0; y < p5.height; y++) {\n            let a = p5.map(x, 0, p5.height, -2, 0.5);\n            let b = p5.map(y, 0, p5.height, -1.25, 1.25);\n            const ca = a;\n            const cb = b;\n            let n = 0;\n            let z = 0;\n            while (n < window.params.MaxIterations) {\n                let aa = a * a - b * b;\n                let bb = 2 * a * b;\n                a = aa + ca;\n                b = bb + cb;\n\n                if (p5.abs(a + b) > 20000) {\n                    break;\n                }\n                n++;\n            }\n            let bright = p5.map(n, 0, window.params.MaxIterations, 100, 255);\n            if (n == window.params.MaxIterations) {\n                bright = 255;\n            }\n\n            let pix = (x + y * p5.width) * 4;\n            p5.pixels[pix + 0] = 0;\n            p5.pixels[pix + 1] = 0;\n            p5.pixels[pix + 2] = 0;\n            p5.pixels[pix + 3] = bright;\n        }\n    }\n    p5.updatePixels();\n}\n"],"names":["$fd76fea16a7b8ddc$export$2e2bcd8739ae039","this","MaxIterations","$4f53641617d44e43$var$draw_set","p5","console","log","window","params","pixelDensity","loadPixels","x","width","y","height","a","map","b","ca","cb","n","bb","abs","bright","pix","pixels","updatePixels","$parcel$interopDefault","$7Pz0b","setup","createCanvas","windowHeight","windowResized","resizeCanvas","windowWidth","draw"],"version":3,"file":"sketch.0800391c.js.map"}