function i(i){return i&&i.__esModule?i.default:i}var t,s=globalThis,e={},o={},h=s.parcelRequire5b7a;null==h&&((h=function(i){if(i in e)return e[i].exports;if(i in o){var t=o[i];delete o[i];var s={id:i,exports:{}};return e[i]=s,t.call(s.exports,s,s.exports),s.exports}var h=Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}).register=function(i,t){o[i]=t},s.parcelRequire5b7a=h),h.register;var a=h("7Pz0b");class r{constructor(){this.isPaused=!1,this.particleSize=5,this.lineMaxDist=150,this.WallThickness=0,this.WallBuffer=50,this.InitialPopulation=160,this.MaxSpeed=10,this.MinSpeed=8,this.MaxForce=.2}}var a=h("7Pz0b");class n{constructor(i){this.p5=i,this.position=this.p5.createVector(Math.random()*i.windowWidth,Math.random()*i.windowHeight),this.heading=2*Math.random()*this.p5.PI,this.velocity=this.p5.createVector(this.p5.cos(this.heading),this.p5.sin(this.heading)).normalize().mult(window.params.MaxSpeed*Math.random()),this.color=this.p5.color(255*Math.random(),255*Math.random(),255*Math.random()),this.size=5,this.mass=1,this.sigma=this.p5.createVector(this.p5.random(30,50)),this.amplitude=this.p5.random(4,5)}draw(){this.p5.push(),this.p5.translate(this.position.x,this.position.y),this.p5.fill(this.color),this.p5.ellipse(0,0,this.size,this.size),this.p5.fill(0,0,0),this.p5.pop()}step(t){var s=i(a).Vector.mult(t,this.mass);this.velocity.add(s),this.velocity.mag()<window.params.MinSpeed&&(this.velocity.normalize(),this.velocity.mult(window.params.MinSpeed)),this.velocity.limit(window.params.MaxSpeed),this.position.add(this.velocity),this.warpWorld()}warpWorld(){var i=this.p5.windowWidth,t=this.p5.windowHeight,s=window.params.WallBuffer;this.position.x<s?this.position.x=i-1.1*s:this.position.x>i-s&&(this.position.x=1.1*s),this.position.y<s?this.position.y=t-1.1*s:this.position.y>t-s&&(this.position.y=1.1*s)}}class p{constructor(i){this.centers=[],this.p5=i;for(let i=0;i<5;i++){let i=new n(this.p5);this.centers.push(i)}this.img=this.p5.createImage(this.p5.windowWidth,this.p5.windowHeight),this.img.loadPixels()}run(){this.centers.forEach(i=>{i.draw(),i.step(this.p5.createVector(Math.random(),Math.random()))}),this.updateBackground()}updateBackground(){let i,t;for(t=0;t<this.img.height;t++)for(i=0;i<this.img.width;i++){let s=this.p5.map(this.getColor(i,t),0,1,0,255),e=(i+t*this.img.width)*4;this.img.pixels[e]=255,this.img.pixels[e+1]=s,this.img.pixels[e+2]=s,this.img.pixels[e+3]=255}this.img.updatePixels(),this.p5.image(this.img,0,0)}getColor(i,t){let s=0;return this.centers.forEach(e=>{s+=e.amplitude*Math.exp(-.5/e.sigma.x**2*((i-e.position.x)**2+(t-e.position.y)**2))}),s/this.centers.length}}new(i(a))(i=>{let t=new r;window.params=t;let s=new p(i);window.simulation=s,window.p5=i,i.setup=()=>{var t=i.createCanvas(i.windowWidth,i.windowHeight);t.mouseOver(()=>{}),t.mouseOut(()=>{}),t.style("display","block"),t.parent("sketch-holder")},i.windowResized=()=>{i.resizeCanvas(i.windowWidth,i.windowHeight)},i.draw=()=>{s.run()}});
//# sourceMappingURL=sketch.514bd676.js.map
