function i(i){return i&&i.__esModule?i.default:i}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},e={},o=t.parcelRequire5b7a;null==o&&((o=function(i){if(i in s)return s[i].exports;if(i in e){var t=e[i];delete e[i];var o={id:i,exports:{}};return s[i]=o,t.call(o.exports,o,o.exports),o.exports}var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}).register=function(i,t){e[i]=t},t.parcelRequire5b7a=o);var h=o("7Pz0b");class a{constructor(){this.isPaused=!1,this.particleSize=5,this.lineMaxDist=150,this.WallThickness=0,this.WallBuffer=50,this.InitialPopulation=160,this.MaxSpeed=10,this.MinSpeed=8,this.MaxForce=.2}}h=o("7Pz0b");class n{constructor(i){this.p5=i,this.position=this.p5.createVector(Math.random()*i.windowWidth,Math.random()*i.windowHeight),this.heading=2*Math.random()*this.p5.PI,this.velocity=this.p5.createVector(this.p5.cos(this.heading),this.p5.sin(this.heading)).normalize().mult(window.params.MaxSpeed*Math.random()),this.color=this.p5.color(255*Math.random(),255*Math.random(),255*Math.random()),this.size=5,this.mass=1,this.sigma=this.p5.createVector(this.p5.random(30,50)),this.amplitude=this.p5.random(4,5)}draw(){this.p5.push(),this.p5.translate(this.position.x,this.position.y),this.p5.fill(this.color),this.p5.ellipse(0,0,this.size,this.size),this.p5.fill(0,0,0),this.p5.pop()}step(t){var s=i(h).Vector.mult(t,this.mass);this.velocity.add(s),this.velocity.mag()<window.params.MinSpeed&&(this.velocity.normalize(),this.velocity.mult(window.params.MinSpeed)),this.velocity.limit(window.params.MaxSpeed),this.position.add(this.velocity),this.warpWorld()}warpWorld(){var i=this.p5.windowWidth,t=this.p5.windowHeight,s=window.params.WallBuffer;this.position.x<s?this.position.x=i-1.1*s:this.position.x>i-s&&(this.position.x=1.1*s),this.position.y<s?this.position.y=t-1.1*s:this.position.y>t-s&&(this.position.y=1.1*s)}}class r{constructor(i){this.centers=[],this.p5=i;for(let i=0;i<5;i++){let i=new n(this.p5);this.centers.push(i)}this.img=this.p5.createImage(this.p5.windowWidth,this.p5.windowHeight),this.img.loadPixels()}run(){this.centers.forEach((i=>{i.draw(),i.step(this.p5.createVector(Math.random(),Math.random()))})),this.updateBackground()}updateBackground(){let i,t;for(new Date,t=0;t<this.img.height;t++)for(i=0;i<this.img.width;i++){let s=this.p5.map(this.getColor(i,t),0,1,0,255),e=4*(i+t*this.img.width);this.img.pixels[e]=255,this.img.pixels[e+1]=s,this.img.pixels[e+2]=s,this.img.pixels[e+3]=255}new Date,this.img.updatePixels(),this.p5.image(this.img,0,0)}getColor(i,t){let s=0;return this.centers.forEach((e=>{s+=e.amplitude*Math.exp(-.5/e.sigma.x**2*((i-e.position.x)**2+(t-e.position.y)**2))})),s/this.centers.length}}new(i(h))((i=>{let t=!1,s=new a;window.params=s;let e=new r(i);window.simulation=e,window.p5=i,i.setup=()=>{var s=i.createCanvas(i.windowWidth,i.windowHeight);s.mouseOver((()=>{t=!0})),s.mouseOut((()=>{t=!1})),s.style("display","block"),s.parent("sketch-holder")},i.windowResized=()=>{i.resizeCanvas(i.windowWidth,i.windowHeight)},i.draw=()=>{e.run()}}));
//# sourceMappingURL=sketch.d66444eb.js.map
